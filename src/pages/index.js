import Head from "next/head";
import { Navbar } from "@components";
import { useWindowEffectsContext } from "@context/WindowEffectsContext";
import { useMediaQuery } from "@hooks";
import { DecorativeTitleBar, Terminal, TerminalShell } from "@components";
import { Welcome, Technologies, Projects, AboutMe, Certificates } from "@views";
import { mdMediaQuery } from "@data";

export default function DWD({ prevScrollPos }) {
  const { terminalAnimStart, terminalAnimOver } = useWindowEffectsContext();

  const [isBreakPoint] = useMediaQuery(mdMediaQuery);

  const mobileLayout = (
    <>
      <div className={`overflow-hidden relative flex flex-col justify-center items-center`}>
        <AboutMe />
        <Projects />
        <Technologies />

        <Certificates />
      </div>
    </>
  );

  const desktopLayout = (
    <Terminal terminalAnimStart={terminalAnimStart} terminalAnimOver={terminalAnimOver}>
      <div className="grow overflow-auto">
        <TerminalShell />
      </div>
    </Terminal>
  );

  return (
    <>
      <Head>
        <title>Develop With Derek</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
        <link rel="manifest" href="/site.webmanifest" />
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#1193b8" />
        <meta name="msapplication-TileColor" content="#2d89ef" />
        <meta name="theme-color" content="#1a9def" />
      </Head>
      <Navbar />
      <main className={"min-h-screen"}>
        <Welcome />
        {!isBreakPoint ? mobileLayout : desktopLayout}
      </main>
    </>
  );
}
